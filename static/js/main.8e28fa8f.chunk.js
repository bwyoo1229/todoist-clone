(this["webpackJsonptodoist-clone"]=this["webpackJsonptodoist-clone"]||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(2),a=c(17),r=c(3),j=c(6),o=c(12),i=c(18),d=(c(30),i.a.initializeApp({apiKey:"AIzaSyBpNdcdoRTZD5WRyFQk_EEQEf15PoJMa2o",authDomain:"todoist-clone-3dcfe.firebaseapp.com",projectId:"todoist-clone-3dcfe",storageBucket:"todoist-clone-3dcfe.appspot.com",messagingSenderId:"799400830361",appId:"1:799400830361:web:4aa4e5c24ac913c6b79f08"})),l=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7_DAYS",name:"Next 7 days"}],b=function(e){return l.find((function(t){return t.key===e}))},u=function(e,t){return e.find((function(e){return e.projectId===t}))},O=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var c=(new Date).getTime(),s=new Array(8),n=7;n>=0;n--)s[n]=e.charAt(c%64),c=Math.floor(c/64);var a=s.join("");for(n=0;n<12;n++)a+=e.charAt(t[n]);return a}}(),h=c(9),x=c.n(h);function f(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],a=c[1],j=Object(n.useState)([]),i=Object(r.a)(j,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var t=d.firestore().collection("tasks").where("userId","==","testUser1"),c=function(e){if(e&&!b(e))return!0}(e)?t.where("projectId","==",e):"TODAY"===e?t.where("date","==",x()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t.where("date","==",""):t;return c=c.onSnapshot((function(t){var c=t.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));a("NEXT_7_DAYS"===e?c.filter((function(e){return x()(e.date,"DD-MM-YYYY").diff(x()(),"days")<=7&&!1===e.archived})):c.filter((function(e){return!1===e.archived}))),u(c.filter((function(e){return!0===e.archive})))}),(function(e){throw new Error(e.message)})),function(){return c()}}),[e]),{tasks:s,archivedTasks:l}}var p=Object(n.createContext)();function m(e){var t=e.children,c=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){d.firestore().collection("projects").where("userId","==","testUser1").orderBy("projectId").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(c)&&s(t)}))}),[c]),{projects:c,setProjects:s}}(),a=c.projects,j=c.setProjects;return Object(s.jsx)(p.Provider,{value:{projects:a,setProjects:j},children:t})}var k=Object(n.createContext)();function v(e){var t=e.children,c=Object(n.useState)("INBOX"),a=Object(r.a)(c,2),j=a[0],o=a[1];return Object(s.jsx)(k.Provider,{value:{selectedProjects:j,setSelectedProjects:o},children:t})}function _(){var e=Object(n.useContext)(k).selectedProjects,t=Object(n.useContext)(p).projects,c=f(e).tasks,a="";return t&&e&&!b(e)&&(a=u(t,e)&&u(t,e).name),b(e)&&e&&(a=function(e,t){return e.find((function(e){return e.key===t}))}(l,e).name),Object(s.jsxs)("div",{className:"tasks",children:[Object(s.jsx)("h2",{children:a}),Object(s.jsx)("ul",{className:"tasks__list",children:c.map((function(e){return Object(s.jsxs)("li",{children:[Object(s.jsx)(N,{id:e.id}),Object(s.jsx)("span",{children:e.task})]},"".concat(e.id))}))}),Object(s.jsx)(Y,{})]})}function N(e){var t=e.id;return Object(s.jsx)("div",{className:"checkbox-holder",onClick:function(){d.firestore().collection("tasks").doc(t).update({archived:!0})},children:Object(s.jsx)("span",{className:"checkbox"})})}function S(e){var t=e.activeValue,c=void 0===t||t,a=Object(n.useState)(c),j=Object(r.a)(a,2),o=j[0],i=j[1],d=Object(n.useContext)(k).setSelectedProjects,l=Object(n.useContext)(p).projects;return l&&l.map((function(e){return Object(s.jsx)("li",{"data-doc-id":e.docId,className:o===e.projectId?"active sidebar__project":"sidebar__project",onClick:function(){i(e.projectId),d(e.projectId)},children:Object(s.jsx)(w,{project:e})},e.projectId)}))}var C=c(19);function w(e){var t=e.project,c=Object(n.useState)(!1),a=Object(r.a)(c,2),o=a[0],i=a[1],l=Object(n.useContext)(p),b=l.projects,u=l.setProjects,O=Object(n.useContext)(k).setSelectedProjects;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"sidebar__dot",children:"\u2022"}),Object(s.jsx)("span",{className:"sidebar__project-name",children:t.name}),Object(s.jsxs)("span",{className:"sidebar__project-delete",onClick:function(){return i(!o)},children:[Object(s.jsx)(j.k,{}),o&&Object(s.jsx)("div",{className:"project-delete-modal",children:Object(s.jsxs)("div",{className:"project-delete-modal__inner",children:[Object(s.jsx)("p",{children:"Are you sure you want to delete this project?"}),Object(s.jsx)("button",{onClick:function(){return e=t.docId,void d.firestore().collection("projects").doc(e).delete().then((function(){u(Object(C.a)(b)),O("INBOX")}));var e},children:"Delete"}),Object(s.jsx)("span",{onClick:function(){return i(!o)},children:"Cancel"})]})})]})]})}function y(e){var t=e.shouldShow,c=void 0!==t&&t,a=Object(n.useState)(c),j=Object(r.a)(a,2),o=j[0],i=j[1],l=Object(n.useState)(""),b=Object(r.a)(l,2),u=b[0],h=b[1],x=O(),f=Object(n.useContext)(p).setProjects;return Object(s.jsxs)("div",{className:"add-project",children:[o&&Object(s.jsxs)("div",{className:"add-project__input",children:[Object(s.jsx)("input",{value:u,onChange:function(e){return h(e.target.value)},className:"add-project__name",type:"text",placeholder:"Name your project"}),Object(s.jsx)("button",{className:"add-project__submit",type:"button",onClick:function(){return u&&d.firestore().collection("projects").add({projectId:x,name:u,userId:"testUser1"}).then((function(){f([]),h(""),i(!1)}))},children:"Add Project"}),Object(s.jsx)("span",{className:"add-project__cancel",onClick:function(){return i(!1)},children:"Cancel"})]}),Object(s.jsx)("span",{className:"add-project__plus",children:"+"}),Object(s.jsx)("span",{className:"add-project__text",onClick:function(){return i(!o)},children:"Add Project"})]})}function Y(e){var t=e.showAddTaskMain,c=void 0===t||t,a=e.shouldShowMain,o=void 0!==a&&a,i=e.showQuickAddTask,l=e.setShowQuickAddTask,b=Object(n.useState)(""),u=Object(r.a)(b,2),O=u[0],h=u[1],f=Object(n.useState)(""),p=Object(r.a)(f,2),m=p[0],v=p[1],_=Object(n.useState)(""),N=Object(r.a)(_,2),S=N[0],C=N[1],w=Object(n.useState)(o),y=Object(r.a)(w,2),Y=y[0],T=y[1],g=Object(n.useState)(!1),M=Object(r.a)(g,2),A=M[0],P=M[1],E=Object(n.useState)(!1),B=Object(r.a)(E,2),X=B[0],Q=B[1],J=Object(n.useContext)(k).selectedProject,U=function(){var e=S||J||"INBOX",t="";return"TODAY"===e?t=x()().format("DD/MM/YYYY"):"NEXT_7_DAYS"===e&&(t=x()().add(7,"days").format("DD/MM/YYYY")),O&&e&&d.firestore().collection("tasks").add({archived:!1,projectId:e,task:O,date:t||m,userId:"testUser1"}).then((function(){h(""),C(""),T(""),P(!1)}))};return Object(s.jsxs)("div",{className:i?"add-task add-task__overlay":"add-task",children:[c&&Object(s.jsxs)("div",{className:"add-task__shallow",onClick:function(){return T(!Y)},children:[Object(s.jsx)("span",{className:"add-task__plus",children:"+"}),Object(s.jsx)("span",{className:"add-task__text",children:"Add Task"})]}),(Y||i)&&Object(s.jsxs)("div",{className:"add-task__main",children:[i&&Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"header",children:"Quick Add Task"}),Object(s.jsx)("span",{className:"add-task__cancel-x",onClick:function(){T(!1),P(!1),l(!1)},children:"x"})]})}),Object(s.jsx)(D,{setProject:C,showProjectOverlay:A,setShowProjectOverlay:P}),Object(s.jsx)(I,{setTaskDate:v,showTaskDate:X,setShowTaskDate:Q}),Object(s.jsx)("input",{className:"add-task__content",type:"text",value:O,onChange:function(e){return h(e.target.value)}}),Object(s.jsx)("button",{className:"add-task__submit",onClick:function(){return i?U()&&l(!1):U()},children:"Add Task"}),!i&&Object(s.jsx)("span",{className:"add-task__cancel",onClick:function(){T(!1),P(!1)},children:"Cancel"}),Object(s.jsx)("span",{className:"add-task__project",onClick:function(){return P(!A)},children:Object(s.jsx)(j.g,{})}),Object(s.jsx)("span",{className:"add-task__date",onClick:function(){return Q(!X)},children:Object(s.jsx)(j.f,{})})]})]})}function D(e){var t=e.setProject,c=e.showProjectOverlay,a=e.setShowProjectOverlay,r=Object(n.useContext)(p).projects;return r&&c&&Object(s.jsx)("div",{className:"project-overlay",children:Object(s.jsx)("ul",{className:"project-overlay__list",children:r.map((function(e){return Object(s.jsx)("li",{onClick:function(){t(e.projectId),a(!1)},children:e.name},e.projectId)}))})})}function I(e){var t=e.setTaskDate,c=e.showTaskDate,n=e.setShowTaskDate;return c&&Object(s.jsx)("div",{className:"task-date",children:Object(s.jsxs)("ul",{className:"task-date__list",children:[Object(s.jsxs)("li",{onClick:function(){n(!1),t(x()().format("DD/MM/YYYY"))},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.i,{})}),Object(s.jsx)("span",{children:"Today"})]}),Object(s.jsxs)("li",{onClick:function(){n(!1),t(x()().add(1,"day").format("DD/MM/YYYY"))},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.j,{})}),Object(s.jsx)("span",{children:"Tomorrow"})]}),Object(s.jsxs)("li",{onClick:function(){n(!1),t(x()().add(7,"day").format("DD/MM/YYYY"))},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.h,{})}),Object(s.jsx)("span",{children:"Next Week"})]})]})})}function T(e){var t=e.darkMode,c=e.setDarkMode,a=e.showSidebar,o=e.setShowSidebar,i=Object(n.useState)(!1),d=Object(r.a)(i,2),l=d[0],b=d[1],u=Object(n.useState)(!1),O=Object(r.a)(u,2),h=O[0],x=O[1];return Object(s.jsxs)("header",{className:"header",children:[Object(s.jsxs)("nav",{children:[Object(s.jsxs)("div",{className:"features",children:[Object(s.jsx)("div",{className:"toggle",onClick:function(){return o(!a)},children:Object(s.jsx)(j.a,{})}),Object(s.jsx)("div",{className:"logo",children:Object(s.jsx)("img",{src:"/images/logo.png",alt:"Todoist"})})]}),Object(s.jsx)("div",{className:"settings",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"settings__add",onClick:function(){x(!0),b(!0)},children:"+"}),Object(s.jsx)("li",{className:"settings__darkmode",onClick:function(){return c(!t)},children:Object(s.jsx)(j.d,{})})]})})]}),Object(s.jsx)(Y,{showAddTaskMain:!1,shouldShowMain:l,showQuickAddTask:h,setShowQuickAddTask:x})]})}function g(e){var t=e.showSidebar;return Object(s.jsxs)("section",{className:"content",children:[Object(s.jsx)(M,{showSidebar:t}),Object(s.jsx)(_,{})]})}function M(e){var t=e.showSidebar,c=Object(n.useContext)(k).setSelectedProjects,a=Object(n.useState)("inbox"),o=Object(r.a)(a,2),i=o[0],d=o[1],l=Object(n.useState)(!0),b=Object(r.a)(l,2),u=b[0],O=b[1];return Object(s.jsxs)("div",{className:t?"sidebar":"sidebar hide",children:[Object(s.jsxs)("ul",{className:"sidebar__generic",children:[Object(s.jsxs)("li",{className:"inbox"===i?"active":void 0,onClick:function(){c("INBOX"),d("inbox")},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.c,{})}),Object(s.jsx)("span",{children:"Inbox"})]}),Object(s.jsxs)("li",{className:"today"===i?"active":void 0,onClick:function(){c("TODAY"),d("today")},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.e,{})}),Object(s.jsx)("span",{children:"Today"})]}),Object(s.jsxs)("li",{className:"next_7_days"===i?"active":void 0,onClick:function(){c("NEXT_7_DAYS"),d("next_7_days")},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.f,{})}),Object(s.jsx)("span",{children:"Next 7 days"})]})]}),Object(s.jsxs)("div",{className:"sidebar__middle",onClick:function(){return O((function(e){return!e}))},children:[Object(s.jsx)("span",{children:Object(s.jsx)(j.b,{className:u?void 0:"hidden-projects"})}),Object(s.jsx)("h2",{children:"Projects"})]}),Object(s.jsx)("ul",{className:"sidebar__projects",children:u&&Object(s.jsx)(S,{})}),u&&Object(s.jsx)(y,{})]})}function A(e){var t=e.darkModeDefault,c=void 0!==t&&t,a=Object(n.useState)(c),j=Object(r.a)(a,2),o=j[0],i=j[1],d=Object(n.useState)(!0),l=Object(r.a)(d,2),b=l[0],u=l[1];return Object(s.jsx)(v,{children:Object(s.jsx)(m,{children:Object(s.jsxs)("main",{className:o?"darkMode":void 0,children:[Object(s.jsx)(T,{darkMode:o,setDarkMode:i,showSidebar:b,setShowSidebar:u}),Object(s.jsx)(g,{showSidebar:b})]})})})}c(27),c(28);Object(a.render)(Object(s.jsx)(A,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.8e28fa8f.chunk.js.map